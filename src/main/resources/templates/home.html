<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@25.3.1/build/css/intlTelInput.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/home.css}"/>
</head>

<body style="height: 100vh; overflow: hidden;">

<input type="hidden" id="current-user-id" th:value="${currentUser.id}">
    <div class="p-5 z-0" id="upper-part" style="width: 100vw; overflow: hidden;"></div>

    <div id="cover" class="border px-5 mx-5 d-flex z-1" style="width: 83dvw;">
        <!--SIDE BUTTONS-->
        <div class="z-1 mt-3 shadow-lg" style="background-color: #F0F2F5;">
            <div class="d-flex flex-column bg-body-tertiary justify-content-between">
                <!--Chats or stories Buttons-->
                <div style="margin-bottom: 49rem;">
                    <ul class="nav flex-column text-center">
                        <li class="nav-item">
                            <a id="chat-button" class="nav-link active py-3 rounded-0" aria-current="page" data-bs-toggle="tooltip" data-bs-placement="right" aria-label="Home" data-bs-original-title="Home">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-chat-left-text-fill" viewBox="0 0 16 16">
                                    <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm3.5 1a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 2.5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z"/>
                                </svg>
                            </a>
                            <a class="nav-link active py-3 rounded-0" aria-current="page" data-bs-toggle="tooltip" data-bs-placement="right" aria-label="Home" data-bs-original-title="Home">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-clock-history" viewBox="0 0 16 16">
                                    <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"/>
                                    <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"/>
                                    <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"/>
                                </svg>
                            </a>
                        </li>
                    </ul>
                </div>
                <!--Settings and user profile buttons-->
                <div class="">
                    <a id="settings-button" class="d-flex align-items-center justify-content-center p-3 link-body-emphasis text-decoration-none" aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-gear-wide-connected" viewBox="0 0 16 16">
                            <path d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5m0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78zM5.048 3.967l-.087.065zm-.431.355A4.98 4.98 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8zm.344 7.646.087.065z"/>
                        </svg>
                    </a>
                    <a id="profile-button"  class="d-flex align-items-center justify-content-center p-3 link-body-emphasis text-decoration-none" aria-expanded="false">
                        <img th:src="@{${currentUser.profilePhotoPath} ?: '/assets/person-circle.svg'}" alt="mdo" width="30" height="30" class="rounded-circle border" style="object-fit: cover;">
                    </a>
                </div>
            </div>
        </div>



        <!--MESSAGING SECTION -->
        <div id="all-users" class="d-flex flex-column align-items-stretch flex-shrink-0 bg-body- z-1 mt-3 border " style="background-color: white; width: 30rem;">
            <div class="border-bottom">
                <div class="d-flex justify-content-between p-3 pb-1 link-body-emphasis text-decoration-none mb-2">
                    <div>
                        <p class="fs-5 fw-semibold">Chats</p>
                    </div>

                    <!--Adding new contact and logout buttons-->
                    <div class="d-flex">
                        <div>
                            <button class="mb-2 border-0" style="background-color: white;" id="new-chat-plus-button" >
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-plus-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                                </svg>
                            </button>
                        </div>
                        <div class="btn-group dropstart">
                            <button class="mb-2 pb-3 border-0 dropdown"  style="background-color: white;" data-bs-toggle="dropdown" aria-expanded="false">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                                    <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                                </svg>
                            </button>
                            <ul class="dropdown-menu text-small z-4 rounded-0">
                                <li>
                                    <a class="dropdown-item rounded-0" th:href="@{/logout}">Log out</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!--User Search Area-->
                <div class="d-flex justify-content-center">
                    <form class="col-11 mb-3 mb-0 me-3 rounded-4" role="search">
                        <div class="input-group mb-3 border rounded-4">
                                <span class="input-group-text border-0" id="basic-addon1" style="background-color: #F0F2F5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-search" viewBox="0 0 16 16" >
                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                                    </svg>
                                </span>
                            <input style="background-color: #F0F2F5; outline: none; box-shadow: none;" type="text" class="form-control border-0 " placeholder="Search" aria-label="Username" aria-describedby="basic-addon1" >
                        </div>
                    </form>
                </div>
            </div>

            <!--Chatted People List-->
            <div class="list-group list-group-flush border-bottom scrollarea" style="max-height: 55rem; overflow-y: auto; overflow-x: hidden;" id="channels">
             <!--LIST OF CHANNELS-->
            </div>
        </div>



        <!--SETTINGS SECTION-->
        <div id="settings-area" class="d-flex flex-column align-items-stretch flex-shrink-0 bg-body- z-1 mt-3 border d-none" style="background-color: white;; width: 30rem;  ">
            <div class="d-flex justify-content-between p-3 pb-1 link-body-emphasis text-decoration-none">
                <p class="fs-5 fw-semibold">Settings</p>
            </div>

            <!--Profile Photo-->
            <div class="d-flex mt-3 mx-3 mb-4 ">
                <div class="position-relative" style="width: 6rem; height: 6rem;">
                    <img th:src="@{${currentUser.profilePhotoPath} ?: '/assets/person-circle.svg'}" alt="Profile Photo" id="profileImage1" class="rounded-circle" style="width: 100%; height: 100%; object-fit: cover; cursor: pointer;">
                </div>
                <div class="mt-4 mx-3">
                    <p class="mb-0" th:text="${currentUser.fullName} ?: 'Name'">Name</p>
                    <p style="color: #54656f;" th:text="${currentUser.about} ?: 'Hey there! I am using WhatsApp Clone.'"></p>
                </div>
            </div>

            <!--About-->
            <div>
                <div class="m-3 d-flex border-bottom">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-lock-fill mt-2" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8 0a4 4 0 0 1 4 4v2.05a2.5 2.5 0 0 1 2 2.45v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 4-4m0 1a3 3 0 0 0-3 3v2h6V4a3 3 0 0 0-3-3"/>
                    </svg>
                    <button class="btn border-0" id="privacy-button">
                        <p class="mx-3">Privacy</p>
                    </button>
                </div>

                <div class="m-3 d-flex border-bottom">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-question-circle-fill mt-2" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247m2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                    </svg>
                    <button id="help-button" class="btn border-0">
                        <p class="mx-3">Help</p>
                    </button>
                </div>

                <div class="m-3 d-flex border-bottom">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="red" class="bi bi-box-arrow-right mt-2" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
                        <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
                    </svg>
                    <button class="btn border-0">
                        <a th:href="@{/logout}" class="text-decoration-none">
                            <p class="mx-3" style="color: red;">Log out</p>
                        </a>
                    </button>
                </div>
            </div>
        </div>

        <!--Settings Section Privacy Settings -->
        <div id="privacy-setting" class="d-flex flex-column align-items-stretch flex-shrink-0 bg-body- z-1 mt-3 border d-none" style="background-color: white;; width: 30rem;  ">
            <div class="d-flex mx-3">
                <button class="btn border-0" id="back-settings-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left mt-1" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                    </svg>
                </button>
                <div class="d-flex justify-content-between p-3 pb-0 link-body-emphasis text-decoration-none">
                    <p class="fs-5 mt-1">Privacy</p>
                </div>
            </div>

            <div class="m-3 d-flex border-bottom d-flex justify-content-between">
                <div class="d-flex">
                    <p>Private Account</p>
                </div>
                <form th:action="@{/changePrivacy}" method="POST" id="change-privacy-form">
                    <input type="checkbox" name="privacy" style="width: 30px;" class="checkbox-success" th:checked="${currentUser.isPrivate}" id="privacy-checkbox">
                    <button type="submit" class="btn border-0 rounded-circle mb-2 d-none" id="change-privacy-submit-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                            <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/>
                        </svg>
                    </button>
                </form>
            </div>

        </div>



        <!--HELP SECTION-->
        <div id="help-area" class="d-flex flex-column align-items-stretch flex-shrink-0 bg-body- z-1 mt-3 border d-none" style="background-color: white;; width: 30rem;  ">
            <div class="d-flex mx-3">
                <button class="btn border-0" id="back-settings-button-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left mt-1" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                    </svg>
                </button>
                <div class="d-flex justify-content-between p-3 pb-0 link-body-emphasis text-decoration-none">
                    <p class="fs-5 mt-1">Help</p>
                </div>
            </div>

            <!-- Info Section -->
            <div class="container p-4 mt-3">
                <div>
                    <p class="mb-2">This is a personal project recreating WhatsApp Web functionalities using Spring Boot, WebSocket, and Bootstrap.</p>
                    <p class="mb-3">Feel free to contact me for feedback, collaboration, or questions!</p>

                    <!-- Contact Links -->
                    <div class="mt-4 pb-3 d-flex border-bottom">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-linkedin mt-2" viewBox="0 0 16 16">
                            <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
                        </svg>
                        <a href="https://www.linkedin.com/in/f-emre-gokyar/" class="btn border-0" target="_blank">
                            <i class="bi bi-linkedin"></i> LinkedIn
                        </a>
                    </div>

                    <div class="mt-3 pb-3 d-flex border-bottom">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-envelope-at-fill mt-2" viewBox="0 0 16 16">
                            <path d="M2 2A2 2 0 0 0 .05 3.555L8 8.414l7.95-4.859A2 2 0 0 0 14 2zm-2 9.8V4.698l5.803 3.546zm6.761-2.97-6.57 4.026A2 2 0 0 0 2 14h6.256A4.5 4.5 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586zM16 9.671V4.697l-5.803 3.546.338.208A4.5 4.5 0 0 1 12.5 8c1.414 0 2.675.652 3.5 1.671"/>
                            <path d="M15.834 12.244c0 1.168-.577 2.025-1.587 2.025-.503 0-1.002-.228-1.12-.648h-.043c-.118.416-.543.643-1.015.643-.77 0-1.259-.542-1.259-1.434v-.529c0-.844.481-1.4 1.26-1.4.585 0 .87.333.953.63h.03v-.568h.905v2.19c0 .272.18.42.411.42.315 0 .639-.415.639-1.39v-.118c0-1.277-.95-2.326-2.484-2.326h-.04c-1.582 0-2.64 1.067-2.64 2.724v.157c0 1.867 1.237 2.654 2.57 2.654h.045c.507 0 .935-.07 1.18-.18v.731c-.219.1-.643.175-1.237.175h-.044C10.438 16 9 14.82 9 12.646v-.214C9 10.36 10.421 9 12.485 9h.035c2.12 0 3.314 1.43 3.314 3.034zm-4.04.21v.227c0 .586.227.8.581.8.31 0 .564-.17.564-.743v-.367c0-.516-.275-.708-.572-.708-.346 0-.573.245-.573.791"/>
                        </svg>
                        <a href="mailto:fegokyar@gmail.com" class="btn border-0" target="_blank">
                            <i class="bi bi-envelope-fill"></i> Gmail
                        </a>
                    </div>
                </div>
            </div>
        </div>



        <!--USER PROFILE SECTION-->
        <div id="user-profile" class="d-flex flex-column align-items-stretch flex-shrink-0 bg-body- z-1 mt-3 border d-none" style="background-color: #F0F2F5;; width: 30rem;  ">
            <div class="d-flex justify-content-between p-3 pb-1 link-body-emphasis text-decoration-none border-bottom" style="background-color: white;">
                <p class="fs-5 fw-semibold">Profile</p>
            </div>

            <!--Profile Photo-->
            <div class="d-flex justify-content-center mb-5" style="background-color: #F0F2F5;">
                <form th:action="@{/updateProfilePhoto}" class="position-relative mt-5" id="upload-photo-form" method="POST" enctype="multipart/form-data">
                    <!-- Profile Photo Container -->
                    <div class="position-relative" style="width: 12rem; height: 12rem;">
                        <img th:src="@{${currentUser.profilePhotoPath} ?: '/assets/person-circle.svg'}" alt="Profile Photo"
                             id="profileImage"
                             class="rounded-circle"
                             style="width: 100%; height: 100%; object-fit: cover; cursor: pointer;">

                        <!-- Camera Icon -->
                        <div class="position-absolute bottom-0 end-0">
                            <label for="fileInput" class="btn btn-light shadow rounded-circle p-1" style="cursor: pointer; width: 2rem; height: 2rem;">
                                <i class="fas fa-camera" id="camera-icon"></i>
                                <button type="submit" class="d-none border-0" id="send-icon" style="background-color: transparent;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-send-fill" viewBox="0 0 16 16" style="background-color: transparent; margin-right: 3px;">
                                        <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z"/>
                                    </svg>
                                </button>
                            </label>
                        </div>
                    </div>

                    <!-- Hidden File Input -->
                    <input type="file" id="fileInput" name="profilePhoto" accept="image/*" hidden>
                </form>
            </div>

            <!--Name and User Info-->
            <div>
                <div class="mb-3" style="background-color: white;">
                    <form th:action="@{/updateFullName}" method="POST" id="update-full-name-form">
                        <label for="input-1" class="form-label mx-3 mt-2 mb-3" style="color: #00A884;" >Your name</label>
                        <input name="fullName" type="text" class="form-control border-0 border-bottom mx-2" id="input-1" style=" outline: none; box-shadow: none;" th:placeholder="${currentUser.fullName} ?: 'Name'">
                    </form>
                </div>

                <div class="mb-3 d-flex justify-content-center" style="color: #54656f;">
                    <small >This is not your username or PIN. This name will be visible to you.</small>
                </div>

                <div class="mb-3" style="background-color: white;">
                    <form th:action="@{/updateAbout}" method="POST" id="update-about-form">
                        <label for="input-11" class="form-label mx-3 mt-2 mb-3" style="color: #00A884;">About</label>
                        <input name="about" type="text" class="form-control border-0 border-bottom mx-2" id="input-11" th:placeholder="${currentUser.about} ?: 'Hey there! I am using WhatsApp Clone.'" style=" outline: none; box-shadow: none;">
                    </form>
                </div>
            </div>
        </div>



        <!--NEW CHAT - NEW CONTACT - NEW GROUP SECTIONS WHEN USER CLICKS PLUS SIGN-->
        <div id="new-chat-area" class="d-flex flex-column align-items-stretch flex-shrink-0 bg-body- z-1 mt-3 border d-none" style="background-color: white; width: 30rem;">
            <div id="new-chat-main" class="">
                <div class="d-flex mx-3">
                    <button class="btn border-0" id="back-main-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left mt-1" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                        </svg>
                    </button>
                    <div class="d-flex justify-content-between p-3 pb-0 link-body-emphasis text-decoration-none">
                        <p class="fs-5 mt-1">New chat</p>
                    </div>
                </div>

                <!--User Search Input-->
                <div class="d-flex justify-content-center mt-3">
                    <form class="col-11 mb-1 mb-0 me-3 rounded-4" role="search">
                        <div class="input-group mb-3 border rounded-4">
                                <span class="input-group-text border-0" id="basic-addon2" style="background-color: #F0F2F5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-search" viewBox="0 0 16 16" >
                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                                    </svg>
                                </span>
                            <input style="background-color: #F0F2F5; outline: none; box-shadow: none;" type="text" class="form-control border-0 " placeholder="Search" aria-label="Username" aria-describedby="basic-addon1" >
                        </div>
                    </form>
                </div>

                <!-- Adding New User and Creating New Group Buttons-->
                <div class="container px-4">

                    <!-- Contact Links -->
                    <div class="mt-1 pb-3 d-flex border-bottom">
                        <div style="background-color: #00A884; width: 45px; height: 45px;" class="rounded-circle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="white" class="bi bi-person-plus-fill" viewBox="0 0 16 16" style="margin-left: 12px; margin-top: 10px;">
                                <path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                                <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5"/>
                            </svg>
                        </div>
                        <button class="btn border-0" id="new-contact-button">
                            New contact
                        </button>
                    </div>

                    <div class="mt-3 pb-3 d-flex border-bottom">
                        <div style="background-color: #00A884; width: 45px; height: 45px;" class="rounded-circle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="white" class="bi bi-people-fill" viewBox="0 0 16 16" style="margin-left: 12px; margin-top: 10px;">
                                <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                            </svg>
                        </div>
                        <button class="btn border-0" id="create-new-group-button">
                            New group
                        </button>
                    </div>
                </div>

                <div class="container mx-2 mt-4">
                    <p style="color: #00A884;">CONTACTS ON WHATSAPP WEB</p>
                </div>

                <!-- All the Contacts that user has -->
                <div class="list-group list-group-flush border-bottom scrollarea" style="max-height: 660px; overflow-y: auto; overflow-x: hidden;" id="contactList">
                    <a class="list-group-item list-group-item-action py-3 lh-sm searched-user contact-list" aria-current="true" style="width: 30rem;" th:each="contact : ${contacts}" th:id="'contactId-' + ${contact.contacting.id}">
                        <div class="d-flex">
                            <img th:src="@{${contact.contacting.profilePhotoPath} ?: '/assets/person-circle.svg'}" alt="" style="height: 3rem; width: 3rem; margin-right: 1rem; object-fit: cover;" class="rounded-circle">
                            <div style="width: 100%;">
                                <div class="d-flex w-100 align-items-center justify-content-between">
                                    <strong class="mb-1 text-truncate" style="max-width: 15rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;" th:text="${contact.nickname} ?: ${contact.contacting.username}"></strong>
                                </div>
                                <div class="small text-truncate" style="max-width: 22rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;" th:text="${contact.contacting.about} ?: 'Hello, I am using WhatsApp Clone!'"></div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>


            <!-- ADD A NEW CONTACT SECTION WHEN USER CLICKS ADD NEW CONTACT-->
            <div class="d-none" id="add-new-contact">
                <div class="d-flex mx-3">
                    <button class="btn border-0" id="new-contact-back-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left mt-1" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                        </svg>
                    </button>
                    <div class="d-flex justify-content-between p-3 pb-0 link-body-emphasis text-decoration-none">
                        <p class="fs-5 mt-1">New contact</p>
                    </div>
                </div>

                <!-- Phone Form To Add New User-->
                <form th:action="@{/addNewContact}" id="new-contact-phone-form" method="POST">
                    <div class="input-group mb-3 mt-5 container">
                            <span class="input-group-text border-0" id="basic-addon11" style="background-color: white !important;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-person-fill" viewBox="0 0 16 16">
                                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                                </svg>
                            </span>
                        <input id="phone-nickname-input" name="nickname" type="text" class="form-control border-0 border-bottom rounded-0" placeholder="Full name" aria-label="fullname" aria-describedby="basic-addon11" style=" outline: none; box-shadow: none;">
                    </div>

                    <div class="input-group mb-3 mt-5 container">
                            <span class="input-group-text border-0" id="basic-addon12" style="background-color: white !important;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"/>
                                </svg>
                            </span>
                        <input id="phone-input" type="tel" class="form-control border-0 border-bottom rounded-0" aria-label="phone" aria-describedby="basic-addon12" style=" outline: none; box-shadow: none; width: 25rem;" name="username">
                    </div>

                    <button class="w-20 btn btn-primary rounded-5 mt-5 mx-3" style="font-size: 1rem; background-color: #00A884; border-color: #00A884;" type="submit">Save</button>
                </form>

                <!--Email Form To Add New User-->
                <form th:action="@{/addNewContact}" id="new-contact-email-form" class="d-none" method="POST">
                    <div class="input-group mb-3 mt-5 container">
                            <span class="input-group-text border-0" id="basic-addon15" style="background-color: white !important;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-person-fill" viewBox="0 0 16 16">
                                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                                </svg>
                            </span>
                        <input name="nickname" type="text" class="form-control border-0 border-bottom rounded-0" placeholder="Full name" aria-label="fullname" aria-describedby="basic-addon15" style=" outline: none; box-shadow: none;">
                    </div>

                    <div class="input-group mb-3 mt-5 container">
                            <span class="input-group-text border-0" id="basic-addon16" style="background-color: white !important;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-envelope-at-fill" viewBox="0 0 16 16">
                                    <path d="M2 2A2 2 0 0 0 .05 3.555L8 8.414l7.95-4.859A2 2 0 0 0 14 2zm-2 9.8V4.698l5.803 3.546zm6.761-2.97-6.57 4.026A2 2 0 0 0 2 14h6.256A4.5 4.5 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586zM16 9.671V4.697l-5.803 3.546.338.208A4.5 4.5 0 0 1 12.5 8c1.414 0 2.675.652 3.5 1.671"/>
                                    <path d="M15.834 12.244c0 1.168-.577 2.025-1.587 2.025-.503 0-1.002-.228-1.12-.648h-.043c-.118.416-.543.643-1.015.643-.77 0-1.259-.542-1.259-1.434v-.529c0-.844.481-1.4 1.26-1.4.585 0 .87.333.953.63h.03v-.568h.905v2.19c0 .272.18.42.411.42.315 0 .639-.415.639-1.39v-.118c0-1.277-.95-2.326-2.484-2.326h-.04c-1.582 0-2.64 1.067-2.64 2.724v.157c0 1.867 1.237 2.654 2.57 2.654h.045c.507 0 .935-.07 1.18-.18v.731c-.219.1-.643.175-1.237.175h-.044C10.438 16 9 14.82 9 12.646v-.214C9 10.36 10.421 9 12.485 9h.035c2.12 0 3.314 1.43 3.314 3.034zm-4.04.21v.227c0 .586.227.8.581.8.31 0 .564-.17.564-.743v-.367c0-.516-.275-.708-.572-.708-.346 0-.573.245-.573.791"/>
                                </svg>
                            </span>
                        <input name="username" type="text" class="form-control border-0 border-bottom rounded-0" placeholder="Email address" aria-label="email" aria-describedby="basic-addon16" style=" outline: none; box-shadow: none;">
                    </div>

                    <button class="w-20 btn btn-primary rounded-5 mt-5 mx-3" style="font-size: 1rem; background-color: #00A884; border-color: #00A884;" type="submit">Save</button>
                </form>

                <div class="container mt-5" >
                    <button class="btn border-0 " id="switch-button-new-contact">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-nintendo-switch mt-0" viewBox="0 0 16 16">
                            <path d="M9.34 8.005c0-4.38.01-7.972.023-7.982C9.373.01 10.036 0 10.831 0c1.153 0 1.51.01 1.743.05 1.73.298 3.045 1.6 3.373 3.326.046.242.053.809.053 4.61 0 4.06.005 4.537-.123 4.976-.022.076-.048.15-.08.242a4.14 4.14 0 0 1-3.426 2.767c-.317.033-2.889.046-2.978.013-.05-.02-.053-.752-.053-7.979m4.675.269a1.62 1.62 0 0 0-1.113-1.034 1.61 1.61 0 0 0-1.938 1.073 1.9 1.9 0 0 0-.014.935 1.63 1.63 0 0 0 1.952 1.107c.51-.136.908-.504 1.11-1.028.11-.285.113-.742.003-1.053M3.71 3.317c-.208.04-.526.199-.695.348-.348.301-.52.729-.494 1.232.013.262.03.332.136.544.155.321.39.556.712.715.222.11.278.123.567.133.261.01.354 0 .53-.06.719-.242 1.153-.94 1.03-1.656-.142-.852-.95-1.422-1.786-1.256"/>
                            <path d="M3.425.053a4.14 4.14 0 0 0-3.28 3.015C0 3.628-.01 3.956.005 8.3c.01 3.99.014 4.082.08 4.39.368 1.66 1.548 2.844 3.224 3.235.22.05.497.06 2.29.07 1.856.012 2.048.009 2.097-.04.05-.05.053-.69.053-7.94 0-5.374-.01-7.906-.033-7.952-.033-.06-.09-.063-2.03-.06-1.578.004-2.052.014-2.26.05Zm3 14.665-1.35-.016c-1.242-.013-1.375-.02-1.623-.083a2.81 2.81 0 0 1-2.08-2.167c-.074-.335-.074-8.579-.004-8.907a2.85 2.85 0 0 1 1.716-2.05c.438-.176.64-.196 2.058-.2l1.282-.003v13.426Z"/>
                        </svg>
                    </button>

                    <small style="color: #9f9f9f;">Click switch button to change user save reference.</small>
                </div>
            </div>


            <!--CREATING A NEW GROUP SECTION WHEN USER CLICKS TO CREATE NEW GROUP-->
            <div class="d-none" id="create-new-group-area">

                <!-- Contact Selection Page - First Page-->
                <div class="" id="create-group-first-page">
                    <div class="d-flex mx-3">
                        <button class="btn border-0" id="back-select-user-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left mt-1" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                            </svg>
                        </button>
                        <div class="d-flex justify-content-between p-3 pb-0 link-body-emphasis text-decoration-none">
                            <p class="fs-5 mt-1">Add group members</p>
                        </div>
                    </div>

                    <!-- Contacts Selection-->
                    <div class="list-group list-group-flush border-bottom scrollarea" style="height: 852px; overflow-y: auto; overflow-x: hidden;">
                        <a class="list-group-item list-group-item-action py-3 lh-sm searched-user" aria-current="true" style="width: 30rem;" th:each="contact : ${contacts}">
                            <div class="d-flex">
                                <img th:src="@{${contact.contacting.profilePhotoPath} ?: '/assets/person-circle.svg'}"  alt="" style="height: 3rem; width: 3rem; margin-right: 1rem; object-fit: cover;" class="rounded-circle">
                                <div style="width: 100%;">
                                    <div class="d-flex w-100 align-items-center justify-content-between">
                                        <strong class="mb-1 text-truncate" style="max-width: 15rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;" th:text="${contact.nickname} ?: 'Name'"></strong>
                                        <div class="form-check">
                                            <input th:id="'userId-' + ${contact.contacting.id}" class="form-check-input rounded-circle custom-checkbox user-selection" type="checkbox" th:value="${contact.contacting.id}" style="width: 20px; height: 20px;" >
                                        </div>
                                    </div>
                                    <div class="small text-truncate" style="max-width: 22rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;" th:text="${contact.contacting.about} ?: 'Hello, I am using WhatsApp Clone!'"></div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="container d-flex justify-content-center pt-4 pb-4" style="background-color: #F0F2F5;">
                        <button class="bnt border-0" id="next-button-create-group">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#00A884" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16" style="color: #00A884;">
                                <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Adjusting Group Info Section - Second Page-->
                <div class="d-none" id="create-group-second-page">
                    <div class="d-flex mx-3">
                        <button class="btn border-0" id="back-first-page">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left mt-1" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                            </svg>
                        </button>
                        <div class="d-flex justify-content-between p-3 pb-0 link-body-emphasis text-decoration-none">
                            <p class="fs-5 mt-1">New group</p>
                        </div>
                    </div>

                    <!-- Group Info -->
                    <div class="list-group list-group-flush scrollarea">
                        <form th:action="@{/createGroup}" class=" mt-5 d-flex flex-column" method="POST" id="create-group-form">

                            <div class="d-flex justify-content-center mb-5" style="background-color: white;">
                                <!-- Group Photo Container -->
                                <div class="position-relative" style="width: 12rem; height: 12rem;">
                                    <img th:src="@{/assets/people-fill.svg}" alt=" Group Photo"
                                         id="group-photo"
                                         class="rounded-circle border"
                                         style="width: 100%; height: 100%; object-fit: cover; cursor: pointer;">

                                    <!-- Camera Icon -->
                                    <div class="position-absolute bottom-0 end-0">
                                        <label for="groupPhotoInput" class="btn btn-light shadow rounded-circle p-1" style="cursor: pointer; width: 2rem; height: 2rem;">
                                            <i class="fas fa-camera"></i>
                                        </label>
                                    </div>
                                </div>

                                <!-- Hidden File Input -->
                                <input type="file" id="groupPhotoInput" name="groupPhoto" accept="image/*" class="d-none">
                            </div>

                            <div class="d-flex justify-content-center">
                                <input name="subject" type="text" class="form-control border-0 border-bottom rounded-0 pt-5" id="input-30" placeholder="Group subject" style=" outline: none; box-shadow: none; width: 25rem;" >
                            </div>

                            <div class=" d-flex justify-content-center pt-4 pb-4">
                                <button class="bnt border-0" id="submit-creating-new-group-button" style="background-color: white;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#00A884" class="bi bi-check-circle-fill mt-4" viewBox="0 0 16 16" style="background-color: white;">
                                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                    </svg>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>




<!--RIGHT SIDE OF THE PAGE-->
        <!--EMPTY PAGE WHEN USER IS NOT SELECTED-->
        <div id="info-page" class="col-9 z-1 mt-3 d-flex flex-column justify-content-center" style="background-color: #F0F2F5;">
            <div class="text-center">
                <img th:src="@{/assets/aGcVD59xVTb.png}" alt="" style="height: 13rem; width: 20rem;" >
            </div>
            <p class="text-center pt-3" style="font-size: 2rem; color: #54656f;">WhatsApp Clone For Web</p>
            <p class="text-center" style="color: #54656f;">Make calls and send messages</p>
        </div>



        <!--MESSAGING SECTION-->
        <div id="user-chat" class="col-9 z-1 mt-3 d-flex flex-column d-none" style="background-color: #F0F2F5;">
            <!--User Info-->
            <div class="d-flex mx-4 mt-3 pb-2 border-bottom">
                <img alt="" style="height: 40px; width: 40px; margin-right: 1rem; object-fit: cover;" class="rounded-circle" id="chat-display-photo">
                <div style="width: 100%;">
                    <div class="d-flex w-100 align-items-center justify-content-between">
                        <h6 class="text-truncate" style="max-width: 15rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;" id="chat-display-name"></h6>
                        <!--Regular Call and Video Call Buttons-->
                        <div class="mb-3">
                            <a href="" class="m-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"/>
                                </svg>
                            </a>

                            <a href="" class="m-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-camera-video-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!--Chat Area-->
            <div id="chat-area" class="col-12 d-flex flex-column bg-body-tertiary justify-content-between">
                <!--Messages-->
                <div class="border-bottom chat-area" style="height: 100vh; overflow-y: scroll;">

                </div>

                <!--New Message Area-->
                <div class="" style="background-color: #F0F2F5;">
                    <!--Inputs-->
                    <div class="input-group border-0 mt-2 mb-2" style="background-color: #F0F2F5;">

                        <!--File Inputs-->
                        <button class="btn d-none border-0" id="back-button" style="margin-left: 1rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-pen-fill" viewBox="0 0 16 16">
                                <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001"/>
                            </svg>
                        </button>
                        <form action="" enctype="multipart/form-data" id="file-upload-form">
                            <span class="input-group-text border-0 btn d-flex" style="margin-bottom: 3px !important; padding-bottom: 0px !important;">
                                <label for="other-inputs" style="margin-bottom: 0; cursor: pointer;" id="other-inputs-button">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-plus-lg mt-2 mx-2" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
                                    </svg>
                                </label>
                                <input type="file" name="file" id="other-inputs" class="d-none form-control mx-0 rounded-3" style="width: 875px; margin-bottom: 0px !important;">
                                <button type="submit" class="d-none btn border-0" id="file-submit-button" style="margin-bottom: 0px !important; padding-bottom: opx !important; padding-right: 0px !important; margin-right: 0px !important;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-send-fill " viewBox="0 0 16 16" style="margin-left: 1rem;">
                                        <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z"/>
                                    </svg>
                                </button>
                            </span>
                        </form>


                        <form action="" class=" mt-2" id="send-text-message-form">
                            <!--Text Input-->
                            <input id="message-input" type="text" class="form-control border-0 rounded-3" placeholder="Type a message" style="outline: none; box-shadow: none; width: 56rem;">
                        </form>


                        <span class="input-group-text border-0 mx-2 btn d-flex" >
                                <button id="write-message-button" class="d-none border-0" style="margin-left: 50rem;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-pen-fill" viewBox="0 0 16 16">
                                        <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001"/>
                                    </svg>
                                </button>

                                <button id="record-button" class="btn border-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-mic-fill" viewBox="0 0 16 16">
                                        <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z"/>
                                        <path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"/>
                                    </svg>
                                </button>

                                <!--Audio Input-->
                                <form action="" class="d-flex" style="padding: 0px !important; margin: 0px !important;" id="audio-input-form">
                                    <!--Playback-->
                                    <div class="d-none" id="send-container">
                                        <audio src="" id="audio-playback" style="display: none;"></audio>
                                        <a id="custom-play-button" class="btn border-0">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" fill="green" class="bi bi-play-fill" viewBox="0 0 16 16">
                                                <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393"/>
                                            </svg>
                                        </a>
                                        <a href="" id="send-button" class="btn border-0" type="submit">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="grey" class="bi bi-send-fill" viewBox="0 0 16 16">
                                                <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z"/>
                                            </svg>
                                        </a>
                                    </div>

                                    <button id="stop-button" class="btn border-0 d-none inactive">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="red" class="bi bi-stop-circle-fill" viewBox="0 0 16 16">
                                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5z"/>
                                        </svg>
                                    </button>
                                </form>
                            </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@25.3.1/build/js/intlTelInput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script th:src="@{/js/message.js}"></script>
    <script th:src="@{/js/home.js}"></script>
</body>
</html>